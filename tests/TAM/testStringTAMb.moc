// FILE INCLUDED: lib_tam.moc
asm("
    CALL (LB) _main
    HALT
")


void print(char* str) {
    asm("
        LOAD (1) -1[LB]
        _loop:
        LOAD (1) 3[LB]
        LOADI (1)
        SUBR Cout
        LOAD (1) 3[LB]
        LOADL 1
        SUBR IAdd
        STORE (1) 3[LB]
        LOAD (1) 3[LB]
        LOADI (1)
        LOADL 0
        SUBR IEq
        JUMPIF (0) _loop
    ");
}

void* malloc(int i){
    asm("
        LOAD (1) -1[LB]
        SUBR MAlloc
    ");
}
// END FILE INCLUDED: lib_tam.moc

asm("
    CALL (LB) _main
    HALT
")

void main() {
    char* message = "Hello";
    char* m2 = " world";
    *message = 'A';
    print(message);
    print(m2);
}
